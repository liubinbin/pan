# index设计



在检索时，我们需要根据key找到对应的bucket。这很像分布系统里的元数据，不存储实际数据，但是保存了一些高层次的索引。

目前想到三种方式:

1. range方式： 按key的顺序。将一段区间的key放在一起。
2. hash方式：按key的hash值打散。将hash值某些mod值相同的内容放在一起。
3. 一致性hash方式：利用一致性算法，直白一点描述，算法就是讲所有的数据分割成足够小，这样在扩容和缩容都足够好。
4. 一个统一的完全的保存所有key位置。

这三者和我们想的bucket设计来看，最匹配的是第四种，但是第四种是最不好的。