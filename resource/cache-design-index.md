# index设计



在检索时，我们需要根据 key 找到对应的 slab。这很像分布系统里的元数据，不存储实际数据，但是保存了一些高层次的索引。

目前想到三种方式:

1. range 方式： 按 key 的顺序。将一段区间的 key 放在一起。
2. hash 方式：按 key 的 hash 值打散。将 hash 值某些 mod 值相同的内容放在一起。
3. 一致性 hash 方式：利用一致性算法，直白一点描述，算法就是讲所有的数据分割成足够小，这样在扩容和缩容都足够好。
4. 一个统一的完全的保存所有 key 位置。

这三者和我们想的 slab 设计来看，最匹配的是第四种，但是第四种是最不好的。